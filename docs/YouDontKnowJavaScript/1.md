### 你不知道的 JavaScript 上卷
--------
#### 第一章 作用域是什么
##### 1.1 编译原理
> 尽管通常将JavaScript归类为“动态”或“解释执行”语言，但事实上它是一门编译语言。

在传统编译语言的流程中，程序中的一段源代码在执行之前会经历三个步骤，统称为“编译”。

- 分词/词法分析 (Tokenizing/Lexing)

这个过程会将由字符组成的字符串分解成（对编程语言来说）有意义的代码块，这些代码块被称为 `词法单元 (token)`。例如，考虑程序 `var a = 2;`。这段程序通常会被分解成为下面这些词法单元：`var、a、=、2、;` 。空格是否会被当做词法单元，取决于空格在这门语言中是否具有意义。 
- 解析/语法分析 (Parsing)

这个过程是将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树。这个树被称为“抽象语法树”。
`var a = 2;` 的抽象语法树中可能会有一个叫做 `VariableDeclaration` 的顶级节点，接下来是一个叫做 `Identifier` (它的值是a)的子节点,以及一个叫做 `AssignmentExpression` 的子节点。
`AssignmentExpression` 节点有一个叫作 `NumericLiteral` （它的值是2）的子节点。
- 代码生成

将AST转换为可执行代码的过程被称为代码生成。这个过程与语言、目标平台等息息相关。
简单来说就是有某种方法将 `var a = 2;` 的AST转化为一组机器指令，用来创建一个叫做 `a` 的变量(包括分配内存等)，并将一个值存储在a中。

> 比起那些编译过程只有三个步骤的语言，JavaScript 引擎要复杂的多。例如在语法分析和代码生成阶段有特定的步骤来对运行性能进行优化，包括对冗余元素进行优化等。